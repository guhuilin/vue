<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<meta http-equiv="X-UA-Compatible" content="ie=edge">
	<title>Document</title>
</head>

<body>
	<script>
		// 操作对象的API
		// let target = {
		// 	name: 'Tom',
		// 	age:24
		// }
		// let handler = {
		// 	get: function(target, key) {
		// 		console.log('getting' + key + target[key]);
		// 		return target[key];
		// 	},
		// 	set: function(target,key,value) {
		// 		console.log('setting' + key + target[key] + value);
		// 		target[key] = value;
		// 	}
		// }
		// let proxy = new Proxy(target, handler);
		// proxy.name
		// proxy.age = 25;
		// console.log(proxy.age);

		// let targetEpt = {};
		// let proxyEpt = new Proxy(targetEpt, handler);
		// proxyEpt.name
		// proxyEpt.name = 'Tom';
		// proxyEpt.name
		// console.log(targetEpt)
		
		// let targetEmpty = {};
		// let proxyEmpty = new Proxy(targetEmpty, {});
		// proxyEmpty.name = 'Tom1'
		// console.log(targetEmpty);



		// let obj = { name: 'tom',age: { a: 111}};
		// let newObj = Object.assign({}, obj);
		// newObj.name = 'tian';
		// newObj.age.a = 222;
		// console.log(obj, newObj)

		/* 实例方法 */
		// get 读取key
		// let exam = {
		// 	name: 'Tom',
		// 	age: 24
		// }
		// let proxy = new Proxy(exam, {
		// 	get(target, propKey, reciver) { console.log(target, propKey, reciver,'..')
		// 		console.log('getting' + propKey);
		// 		return target[propKey];
		// 	}
		// })
		// proxy.name

		let proxy = new Proxy({name:'_aaaa'}, {
			get(target, propKey, receiver) { console.log(propKey)
				if(propKey[0] === '_') {
					throw new Error(`Invalid attempt to get private ${propKey}`);
				}
				console.log('getting' + propKey + '--' + target[propKey]);
				return target[propKey];
			}
		})

		let obj = Object.create(proxy);
		obj._name
		
		
		
	</script>
</body>

</html>